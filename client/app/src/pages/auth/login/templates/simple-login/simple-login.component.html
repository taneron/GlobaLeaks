@if (!authentication.requireAuthCode) {
  <div>
    @if (appDataService.public.receivers.length === 1) {
      <div>
        <div class="form-group">
          <label for="simple-login-password" class="visually-hidden">{{'Password' | translate}}</label>
          <input id="simple-login-password" class="form-control" name="password" [(ngModel)]="authentication.loginData.loginPassword" placeholder="{{'Password' | translate}}" type="password" required />
        </div>
        <div class="form-group">
          <button id="login-button" class="btn btn-primary" [disabled]="authentication.loginInProgress || loginValidator.invalid" (click)="authentication.login(0, authentication.loginData.loginUsername, authentication.loginData.loginPassword)" type="submit">
            <i class="fas fa-right-to-bracket"></i>
            <span>{{'Log in'|translate}}</span>
          </button>
          <span id="forgot-button">
            <a class="btn btn-outline-secondary" id="passwordreset" href="#/login/passwordreset">{{'Forgot password?'|translate}}</a>
          </span>
        </div>
      </div>
    }
    @if (appDataService.public.receivers.length !== 1) {
      <div>
        <div class="form-group">
          <label for="simple-login-select">{{'Please select your account:'|translate}}</label>
          <ng-select id="simple-login-select" name="authentication.loginData.loginUsername" [clearable]="false" [ngModelOptions]="{standalone: true}" [(ngModel)]="authentication.loginData.loginUsername" [ariaLabel]="'Account' | translate">
            @for (item of appDataService.public.receivers; track item) {
              <ng-option [value]="item.id">{{item.name}}</ng-option>
            }
          </ng-select>
        </div>
        @if (authentication.loginData.loginUsername) {
          <div>
            <div class="form-group">
              <label for="simple-login-password-selected">{{'Now type your password, then click \'Log in\':'|translate}}</label>
              <input id="simple-login-password-selected" class="form-control" name="password" [(ngModel)]="authentication.loginData.loginPassword" type="password" required />
            </div>
            <div class="form-group">
              <button id="login-button" class="btn btn-primary" [disabled]="authentication.loginInProgress || loginValidator.invalid" (click)="authentication.login(0, authentication.loginData.loginUsername, authentication.loginData.loginPassword)" type="submit">
                <i class="fas fa-right-to-bracket"></i>
                <span>{{'Log in'|translate}}</span>
              </button>
              <span id="forgot-button">
                <a class="btn btn-outline-secondary" id="passwordreset" href="/#/login/passwordreset">{{'Forgot password?'|translate}}</a>
              </span>
            </div>
          </div>
        }
      </div>
    }
  </div>
}
@if (authentication.requireAuthCode) {
  <div>
    <div class="form-group">
      <label for="simple-login-2fa-code">{{'Enter the two factor authentication code'|translate}}</label>
      <input id="simple-login-2fa-code" class="form-control" name="authCode" [(ngModel)]="authentication.loginData.loginAuthCode" type="text" size="6" maxlength="6" required />
    </div>
    <button id="login-button" class="btn btn-primary" [disabled]="authentication.loginInProgress || authentication.loginData.loginAuthCode.length !== 6" (click)="authentication.login(0, authentication.loginData.loginUsername, authentication.loginData.loginPassword, authentication.loginData.loginAuthCode)" type="submit">
      <i class="fas fa-right-to-bracket"></i>
      <span>{{'Log in'|translate}}</span>
    </button>
  </div>
}
